# grpc-chat

双方向ストリームRPCを利用したリアルタイムチャットシステム

## 要件
- マッチング処理を行う
- ユーザーがマッチングリクエストを行った場合、まだ部屋がなければホストとして部屋を作成する
- 部屋があればホストとマッチングする
- マッチングの成立はサーバーストリーミングRPCで非同期に受け取る
- マッチングが成立したらクライアントは双方向ストリーミングのリクエストをサーバーに送る
- 双方ストリーミングRPCのリクエストは「チャット開始」、「メッセージ」、「チャット終了」の3種類
- サーバー側は、ユーザー双方がチャット開始を送った時、相手がメッセージを送った時など、サーバー側の状態の変化に応じて、クライアントにレスポンスを返す

## protoファイルコンパイル
```shell
go get -u github.com/golang/protobuf/protoc-gen-go
export PATH="$PATH:$(go env GOPATH)/bin"
protoc -Iproto --go_out=plugins=grpc:. proto/*
```